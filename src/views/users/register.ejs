<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../includes/head')  %>
</head>
<body>

    <%- include('../includes/header')  %>

    <main>
        <section>
            <article class="header-form background-form">
                <h3 class="g-title">¡Crea tu cuenta!</h3>
                <p class="detail">¡Ingresa tus datos para poder crear un usuario y disfrutar realizando tu compra con nosotros!</p>
                <p class="detail">¿Ya tiene una cuenta? <a href="/user/login">¡Inicie sesión!</a></p>
            </article>
            <section>
                <form action="/user/register" method="POST" enctype="multipart/form-data" class="form-registro">
                    <fieldset>
                        <label for="name">Nombre:</label>
                        <input type="text" name="name" id="name" placeholder="Ej: Juana" class="input-registro <%= locals.errors && errors.name ? 'is-invalid' : null%>"
                        value="<%= locals.oldData ? oldData.name : null%>" 
                        >
                    </fieldset>
                    <% if (locals.errors && errors.name) { %>
                        <div class="danger">
                          <%= errors.name.msg %>
                        </div>
                    <% } %>
    
                    <fieldset>
                        <label for="lastName">Apellido:</label>
                        <input type="text" name="lastName" id="lastName" placeholder="Ej: Perez"  class="input-registro <%= locals.errors && errors.lastName ? 'is-invalid' : null%>"
                        value="<%= locals.oldData ? oldData.lastName : null%>" 
                        >
                    </fieldset>
                    <% if (locals.errors && errors.lastName) { %>
                        <div class="danger">
                          <%= errors.lastName.msg %>
                        </div>
                    <% } %>

                    <fieldset>
                        <label for="email">Dirección de correo electrónico:</label>
                        <input type="text" name="email" id="email" placeholder="Ej: juana@example.com"  class="input-registro <%= locals.errors && errors.email ? 'is-invalid' : null%>"
                        value="<%= locals.oldData ? oldData.email : null%>" >
                    </fieldset>
                    <% if (locals.errors && errors.email) { %>
                        <div class="danger">
                          <%= errors.email.msg %>
                        </div>
                    <% } %>

                   <fieldset>
                        <label for="address">Domicilio (Calle y Altura):</label>
                        <input type="text" name="address" id="address" placeholder="Ej: Av. 9 de Julio 1455"  class="input-registro <%= locals.errors && errors.address ? 'is-invalid' : null%>">
                   </fieldset>

                   <% if (locals.errors && errors.address) { %>
                    <div class="danger">
                      <%= errors.address.msg %>
                    </div>
                    <% } %>
                  
                   
                    <fieldset>
                        <label for="password">Contraseña:</label>
                        <input type="password" name="password" id="password"  class="input-registro <%= locals.errors && errors.password ? 'is-invalid' : null%>">
                    </fieldset>

                    <% if (locals.errors && errors.password) { %>
                        <div class="danger">
                          <%= errors.password.msg %>
                        </div>
                    <% } %>
    
                    <fieldset>
                        <label for="confirmPassword">Confirmar contraseña:</label>
                        <input type="password" name="confirmPassword" id="confirmPassword"  class="input-registro <%= locals.errors && errors.confirmPassword ? 'is-invalid' : null%>">
                    </fieldset>

                    <fieldset>
                        <label for="avatar">Imagen de perfil:</label>
                        <input type="file" name="avatar" id="avatar" class="<%= locals.errors && errors.avatar ? 'is-invalid' : null%>">
                    </fieldset>

                    <% if (locals.errors && errors.avatar) { %>
                        <div class="danger">
                          <%= errors.avatar.msg %>
                        </div>
                    <% } %>
    
    
                    <button type="submit" class="form-button">Enviar</button>
                </form>
            </section>
            
        </section>
    </main>

    <%- include('../includes/footer')  %>
</body>
</html>